{"version":3,"sources":["text!sampleTask/app/navbar/action/cam-tasklist-navbar-action-create-task-plugin.html","text!sampleTask/app/navbar/action/modals/cam-tasklist-create-task-modal.html","sampleTask/app/navbar/action/cam-tasklist-navbar-action-create-task-plugin.js","sampleTask/app/navbar/action/modals/cam-tasklist-create-task-modal.js","sampleTask/app/navbar/main.js","sampleTask/app/plugin.js"],"names":["define","createTaskActionTemplate","createTaskModalTemplate","Controller","$scope","$modal","open","size","controller","template","result","then","tasklistApp","refreshProvider","refreshTaskList","Configuration","ViewsProvider","registerDefaultView","id","priority","$inject","angular","$translate","Notifications","camAPI","NEW_TASK","name","assignee","description","Task","resource","task","copy","_form","setNewTaskForm","innerForm","$on","$dismiss","isValid","$valid","save","create","err","translated","addError","status","message","exclusive","scope","$close","createTaskPlugin","createTaskModal","ngModule","module","config","navbarModule"],"mappings":"AAAA,AACAA,OAAA,0FAAA,WAAA,MAAA,kKCAAA,OAAA,kFAAA,WAAA,MAAA,gtFAEAA,OAAA,8ECFA,4DACA,qDACA,SACAC,EACAC,GAEA,YAEA,IAAAC,IACA,SACA,SACA,SACAC,EACAC,GAGAD,EAAAE,KAAA,WACAD,EAAAC,MACAC,KAAA,KACAC,WAAA,yBACAC,SAAAP,IACAQ,OAAAC,KAAA,SAAAD,GACAN,EAAAQ,aAAAR,EAAAQ,YAAAC,iBACAT,EAAAQ,YAAAC,gBAAAC,uBAOAC,EAAA,SAAAC,GAEAA,EAAAC,oBAAA,0BACAC,GAAA,qBACAT,SAAAR,EACAO,WAAAL,EACAgB,SAAA,MAMA,OAFAJ,GAAAK,SAAA,iBAEAL,IAGAf,OAAA,sEC7CA,WACA,SACAqB,GAGA,YAEA,QACA,SACA,aACA,gBACA,SACA,SACAjB,EACAkB,EACAC,EACAC,GAGA,GAAAC,IACAC,KAAA,KACAC,SAAA,KACAC,YAAA,KACAT,SAAA,IAGAU,EAAAL,EAAAM,SAAA,QAEAC,EAAA3B,EAAA2B,KAAAV,EAAAW,KAAAP,GAEAQ,EAAA,IAEA7B,GAAA8B,eAAA,SAAAC,GACAF,EAAAE,GAGA/B,EAAAgC,IAAA,yBAAA,WACAhC,EAAAiC,YAGA,IAAAC,GAAAlC,EAAAkC,QAAA,WACA,MAAAL,IAAAA,EAAAM,OAGAnC,GAAAoC,KAAA,WACAF,KAIAT,EAAAY,OAAAV,EAAA,SAAAW,GACAA,EACApB,EAAA,mBAAAX,KAAA,SAAAgC,GACApB,EAAAqB,UACAC,OAAAF,EACAG,QAAAJ,EAAAA,EAAAI,QAAA,GACAC,WAAA,EACAC,MAAA5C,MAKAA,EAAA6C,gBAQAjD,OAAA,8BCrEA,UACA,yDACA,kDACA,SACAqB,EACA6B,EACAC,GAEA,GAAAC,GAAA/B,EAAAgC,OAAA,8CAMA,OAJAD,GAAAE,OAAAJ,GAEAE,EAAA5C,WAAA,yBAAA2C,GAEAC,IAEApD,OAAA,yBChBA,UACA,iBACA,SACAqB,EACAkC,GAEA,MAAAlC,GAAAgC,OAAA,8BAAAE,EAAA7B;ALNA;AACA;AACA,ACHA;AACA;AACA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"plugin.js","sourcesContent":["\ndefine('text!sampleTask/app/navbar/action/cam-tasklist-navbar-action-create-task-plugin.html',[],function () { return '<a href =# \\r\\n   ng-click=\"open()\">\\r\\n  <span class=\"glyphicon glyphicon-plus-sign\"></span>\\r\\n   Yet another {{ \\'CREATE_TASK\\' | translate }}\\r\\n</a>\\r\\n';});\n\n","\ndefine('text!sampleTask/app/navbar/action/modals/cam-tasklist-create-task-modal.html',[],function () { return '<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/standaloneTask/app/navbar/action/modals/cam-tasklist-create-task-modal.html -->\\r\\n<div class=\"modal-header\">\\r\\n  <h3 class=\"cam-tasklist-create-task modal-title\">{{ \\'CREATE_TASK\\' | translate }}</h3>\\r\\n</div>\\r\\n\\r\\n<div class=\"modal-body\">\\r\\n\\r\\n  <div notifications-panel></div>\\r\\n\\r\\n  <form class=\"form-horizontal\"\\r\\n        name=\"newTaskForm\"\\r\\n        role=\"form\">\\r\\n    <div ng-init=\"setNewTaskForm(this.newTaskForm)\"></div>\\r\\n\\r\\n    <div class=\"form-group\">\\r\\n      <label for=\"filter-form-color\"\\r\\n             class=\"col-xs-2 control-label\">{{ \\'NEW_TASK_NAME\\' | translate }}</label>\\r\\n      <div class=\"col-xs-10\">\\r\\n        <input class=\"form-control\"\\r\\n               name=\"taskName\"\\r\\n               ng-model=\"task.name\"\\r\\n               required\\r\\n               type=\"text\" />\\r\\n        <span ng-if=\"this.newTaskForm.taskName.$invalid && this.newTaskForm.taskName.$dirty\"\\r\\n              class=\"has-error\">\\r\\n          <span ng-show=\"this.newTaskForm.taskName.$error.required\"\\r\\n                class=\"help-block\">\\r\\n            {{ \\'REQUIRED_FIELD\\' | translate }}\\r\\n          </span>\\r\\n        </span>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\"form-group\">\\r\\n      <label for=\"filter-form-color\"\\r\\n             class=\"col-xs-2 control-label\">{{ \\'NEW_TASK_ASSIGNEE\\' | translate }}</label>\\r\\n      <div class=\"col-xs-10\">\\r\\n        <input class=\"form-control\"\\r\\n               name=\"taskAssignee\"\\r\\n               ng-model=\"task.assignee\"\\r\\n               type=\"text\" />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\"form-group\">\\r\\n      <label for=\"filter-form-color\"\\r\\n             class=\"col-xs-2 control-label\">{{ \\'NEW_TASK_DESCRIPTION\\' | translate }}</label>\\r\\n      <div class=\"col-xs-10\">\\r\\n        <textarea class=\"form-control\"\\r\\n                  name=\"taskDescription\"\\r\\n                  ng-model=\"task.description\"\\r\\n                  rows=\"4\">\\r\\n        </textarea>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </form>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div class=\"modal-footer\">\\r\\n  <div class=\"row row-action\">\\r\\n\\r\\n    <div class=\"col-xs-12\">\\r\\n      <button class=\"btn btn-xs btn-link\"\\r\\n              type=\"button\"\\r\\n              ng-click=\"$dismiss()\">\\r\\n        {{ \\'CLOSE\\' | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button class=\"btn btn-primary\"\\r\\n              type=\"submit\"\\r\\n              ng-click=\"save()\"\\r\\n              ng-disabled=\"!isValid()\">\\r\\n        {{ \\'SAVE\\' | translate }}\\r\\n      </button>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/standaloneTask/app/navbar/action/modals/cam-tasklist-create-task-modal.html -->\\r\\n';});\n\n","define('sampleTask/app/navbar/action/cam-tasklist-navbar-action-create-task-plugin',[\r\n  'text!./cam-tasklist-navbar-action-create-task-plugin.html',\r\n  'text!./modals/cam-tasklist-create-task-modal.html'\r\n], function(\r\n  createTaskActionTemplate,\r\n  createTaskModalTemplate\r\n) {\r\n  'use strict';\r\n\r\n  var Controller = [\r\n   '$scope',\r\n   '$modal',\r\n  function (\r\n    $scope,\r\n    $modal\r\n  ) {\r\n\r\n    $scope.open = function() {\r\n      $modal.open({\r\n        size: 'lg',\r\n        controller: 'camCreateTaskModalCtrl',\r\n        template: createTaskModalTemplate\r\n      }).result.then(function(result) {\r\n        if ($scope.tasklistApp && $scope.tasklistApp.refreshProvider) {\r\n          $scope.tasklistApp.refreshProvider.refreshTaskList();\r\n        }\r\n      });\r\n    };\r\n\r\n  }];\r\n\r\n  var Configuration = function PluginConfiguration(ViewsProvider) {\r\n\r\n    ViewsProvider.registerDefaultView('tasklist.navbar.action', {\r\n      id: 'create-task-action',\r\n      template: createTaskActionTemplate,\r\n      controller: Controller,\r\n      priority: 200\r\n    });\r\n  };\r\n\r\n  Configuration.$inject = ['ViewsProvider'];\r\n\r\n  return Configuration;\r\n\r\n});\n","define('sampleTask/app/navbar/action/modals/cam-tasklist-create-task-modal',[\r\n  'angular'\r\n], function(\r\n  angular\r\n) {\r\n\r\n  'use strict';\r\n\r\n  return [\r\n    '$scope',\r\n    '$translate',\r\n    'Notifications',\r\n    'camAPI',\r\n  function(\r\n    $scope,\r\n    $translate,\r\n    Notifications,\r\n    camAPI\r\n  ) {\r\n\r\n    var NEW_TASK = {\r\n      name: null,\r\n      assignee: null,\r\n      description: null,\r\n      priority: 50 // default value\r\n    };\r\n\r\n    var Task = camAPI.resource('task');\r\n\r\n    var task = $scope.task = angular.copy(NEW_TASK);\r\n\r\n    var _form = null;\r\n\r\n    $scope.setNewTaskForm = function (innerForm) {\r\n      _form = innerForm;\r\n    };\r\n\r\n    $scope.$on('$locationChangeSuccess', function() {\r\n      $scope.$dismiss();\r\n    });\r\n\r\n    var isValid = $scope.isValid = function () {\r\n      return _form && _form.$valid;\r\n    };\r\n\r\n    $scope.save = function () {\r\n      if (!isValid()) {\r\n        return;\r\n      }\r\n\r\n      Task.create(task, function (err) {\r\n        if (err) {\r\n          $translate('TASK_SAVE_ERROR').then(function(translated) {\r\n            Notifications.addError({\r\n              status: translated,\r\n              message: (err ? err.message : ''),\r\n              exclusive: true,\r\n              scope: $scope\r\n            });\r\n          });\r\n        }\r\n        else {\r\n          $scope.$close();\r\n        }\r\n      });\r\n    };\r\n\r\n  }];\r\n\r\n});\n","define('sampleTask/app/navbar/main',[\r\n  'angular',\r\n  './action/cam-tasklist-navbar-action-create-task-plugin',\r\n  './action/modals/cam-tasklist-create-task-modal'\r\n], function(\r\n  angular,\r\n  createTaskPlugin,\r\n  createTaskModal\r\n) {\r\n  var ngModule = angular.module('tasklist.plugin.sampleTask.navbar.action', []);\r\n\r\n  ngModule.config(createTaskPlugin);\r\n\r\n  ngModule.controller('camCreateTaskModalCtrl', createTaskModal);\r\n\r\n  return ngModule;\r\n});\n","define('sampleTask/app/plugin',[\r\n  'angular',\r\n  './navbar/main'\r\n], function(\r\n  angular,\r\n  navbarModule\r\n) {\r\n  return angular.module('tasklist.plugin.sampleTask', [navbarModule.name]);\r\n});\n"]}